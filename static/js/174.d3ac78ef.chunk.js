"use strict";(self.webpackChunktrivial_quiz_app=self.webpackChunktrivial_quiz_app||[]).push([[174],{990:function(e,n,s){s.d(n,{$_:function(){return i},h4:function(){return c},x8:function(){return m}});var r=s(791),a=s(689),t=s(184),c=function(){var e=(0,a.s0)(),n=(0,a.TH)();return(0,t.jsx)("header",{children:(0,t.jsx)("nav",{className:"navbar navbar-expand-lg bg-body-tertiary",children:(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsxs)("h1",{children:[(0,t.jsx)("span",{className:"trivial",children:"Trivial"})," Quiz"]}),"/"!==n.pathname&&(0,t.jsx)("button",{className:"nav-item btn btn-primary",onClick:function(){e("/")},children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-house",viewBox:"0 0 16 16",children:(0,t.jsx)("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"})})})]})})})},i=function(){return(0,t.jsx)("footer",{children:(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"trivial",children:"Trivial"})," Quiz \xa9 2023"]})})})})})},l=s(439),o=function(e){return(0,t.jsx)("div",{className:"myAlert",children:(0,t.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,t.jsx)("h4",{children:e.message}),(0,t.jsx)("button",{className:"btn btn-dark",onClick:function(){e.setAlert(!1)},children:"I want to select all answers"}),(0,t.jsx)("button",{className:"btn btn-outline-light text-dark",onClick:e.handleHardSubmit,children:"I understand, submit"})]})})},u=["","","","","","","","","",""],d=function(e){return(0,t.jsxs)("form",{onSubmit:e.handleSubmit,className:"card p-3",children:[(0,t.jsx)("div",{children:e.quiz.map((function(n,s){return(0,t.jsxs)("fieldset",{id:s.toString(),onChange:function(n){var r=n.target,a=u;a[s]=r.value,e.setAnswers(a)},className:"card mb-3 question",children:[(0,t.jsx)("h4",{className:"card-header",children:n.question}),(0,t.jsx)("div",{className:"card-body",children:n.answers.map((function(e,s){return(0,t.jsx)("div",{className:"form-check my-1",children:(0,t.jsxs)("label",{htmlFor:"answer".concat(s).concat(n.question),className:"form-label py-1",children:[(0,t.jsx)("input",{id:"answer".concat(s).concat(n.question),type:"radio",value:e,name:n.question,className:"form-check-input"}),(0,t.jsx)("span",{className:"px-2",children:e})]})},e)}))})]},s)}))}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})},h=function(e){var n=(0,a.s0)(),s=(0,r.useState)(!1),c=(0,l.Z)(s,2),i=c[0],o=c[1];return(0,t.jsxs)("div",{className:"card p-3",children:[(0,t.jsxs)("div",{className:"score mb-2",children:[(0,t.jsx)("h2",{children:"Quiz finished"}),(0,t.jsx)("h4",{className:"mt-2",children:(0,t.jsxs)("span",{className:"badge rounded-pill text-bg-light px-3",children:["Score: ",e.score,"/10"]})})]}),(0,t.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){o(!i)},children:i?"Hide answers":"Show answers"}),i&&(0,t.jsx)("div",{children:e.quiz.map((function(n,s){return(0,t.jsxs)("div",{className:"card mt-3 question",children:[(0,t.jsx)("h4",{className:"card-header",children:n.question}),e.answers[s]!==n.correct_answer&&(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("p",{className:"not-correct",children:["Your answer: ",e.answers[s]]}),(0,t.jsxs)("p",{className:"answer",children:["Correct answer: ",n.correct_answer]}),(0,t.jsx)("h6",{className:"points p0",children:"point(s): 0/1"})]}),e.answers[s]===n.correct_answer&&(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("p",{className:"correct",children:["Your answer: ",e.answers[s]]}),(0,t.jsx)("h6",{className:"points p1",children:"point(s): 1/1"})]})]},s)}))}),(0,t.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){n("/quiz")},children:"Start new quiz!"})]})},m=function(e){var n=(0,r.useState)(u),s=(0,l.Z)(n,2),a=s[0],c=s[1],i=(0,r.useState)(!1),m=(0,l.Z)(i,2),x=m[0],p=m[1],f=(0,r.useState)(0),j=(0,l.Z)(f,2),v=j[0],b=j[1],w=(0,r.useState)(!1),N=(0,l.Z)(w,2),g=N[0],y=N[1],q=e.quiz.map((function(e){return e.correct_answer})),Z=function(){var e=0;a.forEach((function(n,s){n===q[s]&&e++})),b(e)};return(0,t.jsxs)("div",{className:"container-fluid",children:[g&&(0,t.jsx)(o,{message:"You didn't select all answers!",setAlert:y,handleHardSubmit:function(e){e.preventDefault(),y(!1),p(!0),Z()}}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:x?(0,t.jsx)(h,{quiz:e.quiz,answers:a,score:v}):(0,t.jsx)(d,{handleSubmit:function(e){e.preventDefault(),a.includes("")?y(!0):(p(!0),Z())},quiz:e.quiz,setAnswers:c})})})]})}},174:function(e,n,s){s.r(n);var r=s(439),a=s(791),t=s(689),c=s(34),i=s(990),l=s(471),o=s(184);n.default=function(){var e=(0,t.UO)().category,n=(0,a.useState)(!0),s=(0,r.Z)(n,2),u=s[0],d=s[1],h=(0,a.useState)([]),m=(0,r.Z)(h,2),x=m[0],p=m[1];(0,a.useEffect)((function(){f()}),[]);var f=function(){d(!0),(0,c.s6)(e).then((function(e){p(e)})).then((function(){d(!1)})).catch((function(e){throw new Error(e)}))};return(0,o.jsx)(l.Z,{header:"quiz",children:(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsxs)("div",{className:"row mx-lg-3  my-3 mx-sm-0",children:[(0,o.jsx)("div",{className:"col-12 mb-3 mx-sm-0",children:!u&&x.length>0&&(0,o.jsxs)("h2",{className:"category",children:["Category: ",(0,o.jsx)("em",{children:x[0].category})]})}),(0,o.jsxs)("div",{className:"col-12 mx-sm-0",children:[u&&(0,o.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),x.length>0&&(0,o.jsx)(i.x8,{quiz:x})]})]})})})}},471:function(e,n,s){s(791);var r=s(990),a=s(184);n.Z=function(e){return(0,a.jsxs)("div",{className:"body",children:[(0,a.jsx)(r.h4,{}),(0,a.jsx)("main",{children:e.children}),(0,a.jsx)(r.$_,{})]})}},34:function(e,n,s){s.d(n,{CP:function(){return d},s6:function(){return o}});var r=s(433),a=s(683),t=s(165),c=s(861),i=s(912),l=s(434);function o(e){return u.apply(this,arguments)}function u(){return(u=(0,c.Z)((0,t.Z)().mark((function e(n){var s,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("https://opentdb.com/api.php?amount=10&category=".concat(n));case 2:return s=e.sent,c=s.data.results.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{question:(0,l.decode)(e.question),answers:[].concat((0,r.Z)(e.incorrect_answers.map((function(e){return(0,l.decode)(e)}))),[e.correct_answer=(0,l.decode)(e.correct_answer)]).sort((function(e,n){return.5-Math.random()}))})})),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)((0,t.Z)().mark((function e(){var n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("https://opentdb.com/api_category.php");case 2:return n=e.sent,s=n.data.trivia_categories,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=174.d3ac78ef.chunk.js.map